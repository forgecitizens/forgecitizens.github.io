<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Andrei Eleodor Sirbu">
    <meta name="description" content="Mapper - Jeu de g√©ographie o√π vous devez replacer les noms des pays sur la carte du monde.">
    <title>Mapper</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üó∫Ô∏è</text></svg>">
    
    <!-- Stylesheet externe -->
    <link rel="stylesheet" href="/assets/mapper-game/mapper.css">
</head>
<body>
    <!-- Lien retour vers le bureau -->
    <a href="/" class="back-link">‚Üê Retour</a>

    <!-- Fen√™tre principale style Windows 98 -->
    <div class="window-frame">
        
        <!-- Barre de titre -->
        <div class="titlebar">
            <div class="titlebar-left">
                <img src="/assets/mapper-game/mapper_icon.png" alt="Mapper" class="titlebar-icon">
                <span class="titlebar-text">Mapper</span>
            </div>
            <div class="titlebar-controls">
                <button class="titlebar-btn" title="R√©duire">_</button>
                <button class="titlebar-btn" title="Agrandir">‚ñ°</button>
                <button class="titlebar-btn" title="Fermer" onclick="window.location.href='/'">√ó</button>
            </div>
        </div>

        <!-- Barre de menu -->
        <div class="menubar">
            <div class="menu-item"><u>J</u>eu</div>
            <div class="menu-item" id="btn-options"><u>O</u>ptions
                <div class="menu-dropdown" id="options-dropdown">
                    <div class="menu-dropdown-item" id="toggle-dark-mode">
                        <span class="menu-checkbox" id="dark-mode-check">‚òê</span>
                        Mode sombre
                    </div>
                </div>
            </div>
            <div class="menu-item"><u>A</u>ide</div>
            <div class="menu-item" id="btn-credits"><u>C</u>r√©dits</div>
        </div>

        <!-- Barre d'outils -->
        <div class="toolbar">
            <button class="toolbar-btn" id="pause-btn">Pause</button>
            <button class="toolbar-btn" id="rules-btn">R√®gles du jeu</button>
            <button class="toolbar-btn" id="credits-toolbar-btn">Cr√©dits</button>
            <button class="toolbar-btn" id="updates-toolbar-btn">Mises √† jour</button>
        </div>

        <!-- Zone de contenu principale -->
        <div class="content-area">
            <div class="game-container" id="game-container">
                
                <!-- Zone de la carte (sera remplie par le JS) -->
                <div class="map-container" id="map-container">
                    <!-- Le SVG de la carte sera inject√© ici -->
                </div>
                
                <!-- Zone des labels √† placer -->
                <div class="labels-container" id="labels-container" style="display: none;">
                    <div class="labels-pool" id="labels-pool">
                        <!-- Les labels des pays seront g√©n√©r√©s ici -->
                    </div>
                </div>
                
                <!-- Placeholder / Message de chargement -->
                <div class="placeholder" id="placeholder">
                    <div class="placeholder-icon">üó∫Ô∏è</div>
                    <div class="placeholder-title">Mapper</div>
                    <div class="placeholder-text">Replacez les noms des pays sur la carte du monde</div>
                    <div class="placeholder-loading">
                        <div class="loading-spinner"></div>
                        <span>Chargement...</span>
                    </div>
                </div>
                
            </div>
        </div>

        <!-- Barre de statut -->
        <div class="statusbar">
            <div class="status-section" id="status-message" style="flex: 1;">Chargement...</div>
            <div class="status-section" id="status-time">Temps: --:--</div>
            <div class="status-section" id="status-score">Score: 0/0</div>
        </div>
        
    </div>

    <!-- Modale de s√©lection de langue -->
    <div class="language-modal-overlay" id="language-modal-overlay">
        <div class="language-modal">
            <div class="language-modal-title">üó∫Ô∏è Mapper</div>
            <div class="language-modal-subtitle">Choisissez votre langue / Choose your language</div>
            <div class="language-flags">
                <button class="flag-button" id="flag-fr" data-lang="FR" title="Fran√ßais">
                    <span class="flag-emoji">
                        <img src="/assets/mapper-game/lang_FR.png" alt="Fran√ßais" class="flag-img">
                    </span>
                    <span class="flag-label">Fran√ßais</span>
                </button>
                <button class="flag-button" id="flag-en" data-lang="EN" title="English">
                    <span class="flag-emoji">
                        <img src="/assets/mapper-game/lang_EN.png" alt="English" class="flag-img">
                    </span>
                    <span class="flag-label">English</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Modale de s√©lection de difficult√© -->
    <div class="difficulty-modal-overlay" id="difficulty-modal-overlay">
        <div class="difficulty-modal">
            <div class="difficulty-modal-title" id="difficulty-modal-title">Difficult√©</div>
            <div class="difficulty-modal-subtitle" id="difficulty-modal-subtitle">Choisissez votre niveau de difficult√©</div>
            <div class="difficulty-options">
                <button class="difficulty-button" id="difficulty-explorer" data-difficulty="explorer">
                    <img class="difficulty-icon" src="/assets/mapper-game/level_explorer.png" alt="Explorer">
                    <span class="difficulty-label" id="difficulty-explorer-label">Facile</span>
                    <div class="difficulty-tooltip" id="difficulty-explorer-desc">30 pays choisis al√©atoirement (sans √Æles)</div>
                </button>
                <button class="difficulty-button" id="difficulty-easy" data-difficulty="easy">
                    <img class="difficulty-icon" src="/assets/mapper-game/level_normal.png" alt="Normal">
                    <span class="difficulty-label" id="difficulty-easy-label">Normal</span>
                    <div class="difficulty-tooltip" id="difficulty-easy-desc">Vous ne devez trouver que les pays, pas les √Æles</div>
                </button>
                <button class="difficulty-button" id="difficulty-hard" data-difficulty="hard">
                    <img class="difficulty-icon" src="/assets/mapper-game/level_hard.png" alt="Difficile">
                    <span class="difficulty-label" id="difficulty-hard-label">Difficile</span>
                    <div class="difficulty-tooltip" id="difficulty-hard-desc">Vous devez trouver les pays et les √Æles. (PC recommand√© ou tablette)</div>
                </button>
                <button class="difficulty-button difficulty-button-pursuit" id="difficulty-pursuit" data-difficulty="pursuit">
                    <img class="difficulty-icon" src="/assets/mapper-game/level_pursuit.png" alt="G√©o-Poursuite">
                    <span class="difficulty-label" id="difficulty-pursuit-label">G√©o-Poursuite</span>
                    <div class="difficulty-tooltip" id="difficulty-pursuit-desc">Le jeu vous poursuit ! Vous avez 20 pays √† placer. Toutes les 30 secondes, le jeu efface l'une de vos r√©ponses. Vous perdez si le stock de pays √† placer revient √† 20.</div>
                </button>
            </div>
        </div>
    </div>

    <!-- Modale des cr√©dits -->
    <div class="credits-modal-overlay" id="credits-modal-overlay">
        <div class="credits-modal">
            <button class="credits-close-btn" id="credits-close-btn" title="Fermer">√ó</button>
            <div class="credits-title" id="credits-modal-title">Cr√©dits</div>
            <div class="credits-content">
                <div class="credits-section">
                    <h3>Sons / Sound Effects</h3>
                    <ul class="credits-list">
                        <li>
                            <span class="credits-item-name">GoodResult.wav</span> by <span class="credits-author">unadamlar</span><br>
                            <a href="https://freesound.org/s/341985/" target="_blank" rel="noopener">freesound.org/s/341985</a><br>
                            <span class="credits-license">License: Creative Commons 0</span>
                        </li>
                        <li>
                            <span class="credits-item-name">success.wav</span> by <span class="credits-author">grunz</span><br>
                            <a href="https://freesound.org/s/109662/" target="_blank" rel="noopener">freesound.org/s/109662</a><br>
                            <span class="credits-license">License: Attribution 3.0</span>
                        </li>
                        <li>
                            <span class="credits-item-name">success 2</span> by <span class="credits-author">Leszek_Szary</span><br>
                            <a href="https://freesound.org/s/171670/" target="_blank" rel="noopener">freesound.org/s/171670</a><br>
                            <span class="credits-license">License: Creative Commons 0</span>
                        </li>
                        <li>
                            <span class="credits-item-name">success 1</span> by <span class="credits-author">Leszek_Szary</span><br>
                            <a href="https://freesound.org/s/171671/" target="_blank" rel="noopener">freesound.org/s/171671</a><br>
                            <span class="credits-license">License: Creative Commons 0</span>
                        </li>
                        <li>
                            <span class="credits-item-name">disappointed aww</span> by <span class="credits-author">kanyonwyvern</span><br>
                            <a href="https://freesound.org/s/727358/" target="_blank" rel="noopener">freesound.org/s/727358</a><br>
                            <span class="credits-license">License: Creative Commons 0</span>
                        </li>
                        <li>
                            <span class="credits-item-name">Epic SuperHero Loop1</span> by <span class="credits-author">MuzaProduction</span><br>
                            <a href="https://freesound.org/s/648779/" target="_blank" rel="noopener">freesound.org/s/648779</a><br>
                            <span class="credits-license">License: Attribution NonCommercial 4.0</span>
                        </li>
                    </ul>
                </div>
                <div class="credits-section">
                    <h3>Ic√¥nes / Icons</h3>
                    <ul class="credits-list">
                        <li><a href="https://www.flaticon.com/fr/icones-gratuites/confettis" target="_blank" rel="noopener" title="confettis ic√¥nes">Confettis ic√¥nes cr√©√©es par Freepik - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/speedometer" target="_blank" rel="noopener" title="speedometer icons">Speedometer icons created by Freepik - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/error" target="_blank" rel="noopener" title="error icons">Error icons created by Anggara - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/restart" target="_blank" rel="noopener" title="restart icons">Restart icons created by Rakib Hassan Rahim - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/chrono" target="_blank" rel="noopener" title="chrono icons">Chrono icons created by Freepik - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/climbing" target="_blank" rel="noopener" title="climbing icons">Climbing icons created by monkik - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/hiking" target="_blank" rel="noopener" title="hiking icons">Hiking icons created by Freepik - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/united-kingdom" target="_blank" rel="noopener" title="united kingdom icons">United kingdom icons created by IYAHICON - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/france-flag" target="_blank" rel="noopener" title="france flag icons">France flag icons created by Md Tanvirul Haque - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/random" target="_blank" rel="noopener" title="random icons">Random icons created by Mayor Icons - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/select" target="_blank" rel="noopener" title="select icons">Select icons created by Mihimihi - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/target" target="_blank" rel="noopener" title="target icons">Target icons created by vectorsmarket15 - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/gamepad" target="_blank" rel="noopener" title="gamepad icons">Gamepad icons created by smashingstocks - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/isometric" target="_blank" rel="noopener" title="isometric icons">Isometric icons created by Ylivdesign - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/better" target="_blank" rel="noopener" title="better icons">Better icons created by Ylivdesign - Flaticon</a></li>
                        <li><a href="https://www.flaticon.com/free-icons/keyboard-button" target="_blank" rel="noopener" title="keyboard button icons">Keyboard button icons created by Freepik - Flaticon</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Modale pause/r√®gles (identique √† cr√©dits) -->
    <div class="credits-modal-overlay" id="rules-modal-overlay">
        <div class="credits-modal">
            <button class="credits-close-btn" id="rules-close-btn" title="Fermer">√ó</button>
            <div class="credits-title" id="rules-modal-title">R√®gles du jeu</div>
            <div class="credits-content" id="rules-content"></div>
        </div>
    </div>

    <!-- Modale des mises √† jour -->
    <div class="credits-modal-overlay" id="updates-modal-overlay">
        <div class="credits-modal">
            <button class="credits-close-btn" id="updates-close-btn" title="Fermer">√ó</button>
            <div class="credits-title" id="updates-modal-title">Mises √† jour</div>
            <div class="credits-content" id="updates-content">
                <!-- 31.01.2026 - Corrections -->
                <div class="credits-section">
                    <h3>31.01.2026</h3>
                    <ul class="credits-list">
                        <li id="update-31-01-a">Correction d'un bug qui bloquait les interactions avec la carte apr√®s avoir relanc√© une partie.</li>
                        <li id="update-31-01-b">La notification "Le jeu vous rattrape" en mode G√©o-Poursuite est maintenant positionn√©e au-dessus de la zone des labels.</li>
                    </ul>
                </div>
                <!-- 30.01.2026 - Mode G√©o-Poursuite -->
                <div class="credits-section">
                    <h3>30.01.2026</h3>
                    <ul class="credits-list">
                        <li id="update-30-01-a">Nouveau mode de jeu : G√©o-Poursuite ! Le jeu vous poursuit et efface vos r√©ponses toutes les 30 secondes.</li>
                        <li id="update-30-01-b">Interface de s√©lection de difficult√© redesign√©e pour accueillir plus de modes.</li>
                    </ul>
                </div>
                <!-- 27.01.2026 - Nouvelles fonctionnalit√©s -->
                <div class="credits-section">
                    <h3>27.01.2026</h3>
                    <ul class="credits-list">
                        <li id="update-27-01-a">Tooltip sur les pays identifi√©s affiche maintenant le nom du pays et sa capitale.</li>
                        <li id="update-27-01-b">Support mobile : tap sur un pays identifi√© affiche le tooltip pendant 2 secondes.</li>
                        <li id="update-27-01-c">Nouveau syst√®me de zoom natif SVG : la carte reste parfaitement nette √† tous les niveaux de zoom.</li>
                        <li id="update-27-01-d">Ajout d'un indicateur visuel du niveau de zoom sur le c√¥t√© droit de la carte.</li>
                        <li id="update-27-01-e">Les labels verrouill√©s disparaissent maintenant apr√®s 1 seconde au lieu de 20.</li>
                        <li id="update-27-01-f">Les animations d'avions suivent d√©sormais la carte lors du d√©placement et du zoom.</li>
                        <li id="update-27-01-g">Correction des trajectoires des avions qui suivent maintenant un chemin logique entre les pays.</li>
                    </ul>
                </div>
                <!-- Mises √† jour pr√©c√©dentes -->
                <div class="credits-section">
                    <h3>26.01.2026</h3>
                    <ul class="credits-list">
                        <li id="update-26-01-a">Lancement initial de Mapper avec 3 modes de difficult√©.</li>
                        <li id="update-26-01-b">Syst√®me GEO-COMBO avec bonus de temps et de points.</li>
                        <li id="update-26-01-c">Support multilingue Fran√ßais / Anglais.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Modale de fin de partie -->
    <div class="endgame-modal-overlay" id="endgame-modal-overlay">
        <div class="endgame-modal">
            <div class="endgame-title" id="endgame-title">
                <img src="/assets/mapper-game/la-geographie.png" alt="" class="endgame-title-icon">
                <span id="endgame-title-text">Partie termin√©e !</span>
            </div>
            <div class="endgame-stats">
                <div class="endgame-stat">
                    <img src="/assets/mapper-game/high-score.png" alt="" class="endgame-stat-icon">
                    <span class="endgame-stat-label" id="endgame-score-label">Score</span>
                    <span class="endgame-stat-value" id="endgame-score">0</span>
                </div>
                <div class="endgame-stat">
                    <img src="/assets/mapper-game/time.png" alt="" class="endgame-stat-icon">
                    <span class="endgame-stat-label" id="endgame-time-label">Temps</span>
                    <span class="endgame-stat-value" id="endgame-time">00:00</span>
                </div>
                <div class="endgame-stat">
                    <img src="/assets/mapper-game/cancel.png" alt="" class="endgame-stat-icon">
                    <span class="endgame-stat-label" id="endgame-errors-label">Erreurs</span>
                    <span class="endgame-stat-value" id="endgame-errors">0</span>
                </div>
            </div>
            <div class="endgame-actions">
                <button class="endgame-btn endgame-btn-primary" id="endgame-restart">
                    <img src="/assets/mapper-game/refresh.png" alt="" class="endgame-btn-icon">
                    <span class="endgame-btn-text" id="endgame-restart-text">Recommencer</span>
                </button>
                <button class="endgame-btn endgame-btn-secondary" id="endgame-change-difficulty">
                    <img src="/assets/mapper-game/change_lvl.png" alt="" class="endgame-btn-icon">
                    <span class="endgame-btn-text" id="endgame-difficulty-text">Changer de difficult√©</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Script principal du jeu -->
    <script src="/assets/mapper-game/mapper.js"></script>
</body>
</html>
